<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAMCçœŸæ—…éŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">TAMCçœŸæ—…éŠ</div>
            <div class="header-actions">
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="æœå°‹ç›®çš„åœ°æˆ–æ¨™ç±¤...">
                    <button id="search-button" class="animated-button">ğŸ”</button>
                </div>
                <button id="add-trip-button" class="animated-button">æ–°å¢è¡Œç¨‹</button>
            </div>
        </header>
        <div id="user-info" class="user-info-container">
            <!-- User ID will be displayed here -->
        </div>

        <main>
            <div class="trips-section">
                <h2>æ‰€æœ‰è¡Œç¨‹</h2>
                <div id="trips-list">
                    <!-- è¡Œç¨‹å°‡ç”± JavaScript å‹•æ…‹æ–°å¢åˆ°é€™è£¡ -->
                </div>
            </div>

            <div class="form-section">
                <div class="form-header">
                    <h2 id="form-title">æ–°å¢æ—…éŠè¡Œç¨‹</h2>
                    <button id="back-to-list-button" class="animated-button">è¿”å›é¦–é </button>
                </div>
                <form id="add-trip-form">
                    <input type="hidden" id="trip-id"> <!-- ç”¨æ–¼å„²å­˜ç·¨è¼¯ä¸­çš„è¡Œç¨‹ ID -->
                    <div class="form-group">
                        <label for="trip-title">è¡Œç¨‹æ¨™é¡Œï¼š</label>
                        <input type="text" id="trip-title" required>
                    </div>
                    <div class="form-group">
                        <label for="trip-destination">ç›®çš„åœ°ï¼š</label>
                        <input type="text" id="trip-destination" required>
                    </div>
                    <div class="form-group">
                        <label for="trip-tags">æ¨™ç±¤ (ä»¥é€—è™Ÿåˆ†éš”)ï¼š</label>
                        <input type="text" id="trip-tags" placeholder="ä¾‹å¦‚ï¼šæ—¥æœ¬, æ±äº¬, ç¾é£Ÿ">
                    </div>

                    <div class="form-group">
                        <label for="canva-link">Canva å…±äº«æª¢è¦–é€£çµ (é¸å¡«)ï¼š</label>
                        <input type="url" id="canva-link" placeholder="è²¼ä¸Š Canva å…±äº«æª¢è¦–é€£çµï¼Œä¾‹å¦‚ï¼šhttps://www.canva.com/design/DAFFa...">
                        <small style="color: #888; font-size: 0.9em; margin-top: 5px;">* å¦‚æœæ‚¨æä¾› Canva é€£çµï¼Œæ¯æ—¥è¡Œç¨‹å…§å®¹å°‡è¢«å¿½ç•¥ã€‚</small>
                    </div>
                    
                    <div class="form-group">
                        <label>è¡Œç¨‹å…§å®¹ï¼š</label>
                        <div id="days-container">
                            <!-- å¤©æ•¸è¼¸å…¥æ¡†å°‡ç”± JavaScript å‹•æ…‹æ–°å¢åˆ°é€™è£¡ -->
                        </div>
                        <button type="button" id="add-day-button" class="animated-button">æ–°å¢å¤©æ•¸</button>
                    </div>

                    <button type="submit" id="submit-button" class="animated-button">æ–°å¢è¡Œç¨‹</button>
                </form>
            </div>

            <div class="trip-detail-section">
                <div class="detail-header">
                    <button id="back-from-detail-button" class="animated-button back-to-list-button">è¿”å›è¡Œç¨‹åˆ—è¡¨</button>
                    <button id="edit-trip-button" class="animated-button">ç·¨è¼¯è¡Œç¨‹</button>
                </div>
                <div id="trip-detail-content">
                    <!-- è¡Œç¨‹è©³ç´°å…§å®¹å°‡ç”± JavaScript å‹•æ…‹æ–°å¢åˆ°é€™è£¡ -->
                </div>
            </div>
        </main>
    </div>
    
    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, doc, setDoc, deleteDoc, onSnapshot, query, orderBy, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // Expose Firebase modules to the global scope
        window.firebase = {
            initializeApp,
            getAuth,
            signInAnonymously,
            signInWithCustomToken,
            onAuthStateChanged,
            getFirestore,
            collection,
            addDoc,
            doc,
            setDoc,
            deleteDoc,
            onSnapshot,
            query,
            orderBy,
            getDoc
        };
    </script>
    <script src="script.js"></script>
</body>
</html>
